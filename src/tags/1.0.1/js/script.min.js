addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".wpcf7").forEach(n=>{const r=function(){const e=n.querySelector('[name="_cm4cf7_user_options"]');var t=e?.value;return e.remove(),JSON.parse(t)||{}}();if(r.USE_CONFIRM_MODE){const u=n.querySelectorAll(".wpcf7-form"),f=n.querySelectorAll(".wpcf7-submit");n.classList.add("cm4cf7"),n.querySelectorAll(".wpcf7-response-output").forEach(i),n.addEventListener("wpcf7mailsent",function(){t(),a(),e(),c()}),f.forEach(e=>{e.setAttribute("data-cm4cf7-default-value",e.value)}),t(),e();{const m=new MutationObserver(e=>{e.forEach(e=>{e.target.classList?.contains("wpcf7-response-output")&&i(e.target)})});m.observe(n,{childList:!0,subtree:!0})}function e(){f.forEach(e=>{e.value=r.CONFIRM_BUTTON_TEXT,e.dispatchEvent(new CustomEvent("cm4cf7_submit_value_replaced",{bubbles:!0}))})}function t(){u.forEach(e=>{e.querySelectorAll('[name^="_cm4cf7_request_"]').forEach(e=>e.remove());const t=document.createElement("input");t.type="hidden",t.name="_cm4cf7_request_confirm",t.value="true",e.appendChild(t)})}function c(){n.querySelectorAll(".cm4cf7-return-button").forEach(e=>e.remove())}function o(){function t(e,t){const c=document.createElement("span");c.classList.add("cm4cf7-confirm-value"),c.classList.add(t),c.textContent="password"===e.type?e.value.replace(/./g,"*"):e.value,e.parentNode.insertBefore(c,e),o(c,e)}function o(e,t){const c={bubbles:!0};c.detail={newNode:e,referenceNode:t},t.dispatchEvent(new CustomEvent("cm4cf7_confirm_value_inserted",c))}n.classList.add("cm4cf7-confirm-view"),n.querySelectorAll(".wpcf7-text").forEach(e=>t(e,"cm4cf7-text")),n.querySelectorAll(".wpcf7-date").forEach(e=>t(e,"cm4cf7-date")),n.querySelectorAll(".wpcf7-number").forEach(e=>t(e,"cm4cf7-number")),n.querySelectorAll(".wpcf7-select").forEach(e=>{{var t="cm4cf7-select";const c=Array.prototype.filter.call(e,e=>e.selected),n=c.map(e=>e.value),r=document.createElement("span");return r.classList.add("cm4cf7-confirm-value"),r.classList.add(t),r.textContent=n.join("\n"),r.innerHTML=r.innerHTML.replaceAll("\n","<br>"),e.parentNode.insertBefore(r,e),void o(r,e)}}),n.querySelectorAll(".wpcf7-textarea").forEach(e=>{{var t="cm4cf7-textarea";const c=document.createElement("span");return c.classList.add("cm4cf7-confirm-value"),c.classList.add(t),c.textContent=e.value,c.innerHTML=c.innerHTML.replaceAll("\n","<br>"),e.parentNode.insertBefore(c,e),void o(c,e)}}),n.querySelectorAll(".wpcf7-checkbox").forEach(e=>{{var t="cm4cf7-checkbox",c=e.querySelectorAll('[type="checkbox"]:checked');const n=Array.prototype.map.call(c,e=>e.value),r=document.createElement("span");return r.classList.add("cm4cf7-confirm-value"),r.classList.add(t),r.textContent=n.join(", "),e.parentNode.insertBefore(r,e),void o(r,e)}}),n.querySelectorAll(".wpcf7-radio").forEach(e=>{{var t="cm4cf7-radio",c=e.querySelectorAll('[type="radio"]:checked');const n=Array.prototype.map.call(c,e=>e.value),r=document.createElement("span");return r.classList.add("cm4cf7-confirm-value"),r.classList.add(t),r.textContent=n.join(", "),e.parentNode.insertBefore(r,e),void o(r,e)}});const e=document.createElement("div");e.classList.add("cm4cf7-message-for-confirmation"),e.textContent=r.CONFIRM_MESSAGE,e.innerHTML=e.innerHTML.replaceAll("\n","<br>"),n.parentNode.insertBefore(e,n),r.AUTO_SCROLL&&e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}function a(){const e=n.previousSibling;e?.classList?.contains("cm4cf7-message-for-confirmation")&&e.remove(),n.querySelectorAll(".cm4cf7-confirm-value").forEach(e=>e.remove()),n.classList.remove("cm4cf7-confirm-view")}function s(){u.forEach(e=>{e.querySelectorAll('[name^="_cm4cf7_request_"]').forEach(e=>e.remove());const t=document.createElement("input");t.type="hidden",t.name="_cm4cf7_request_send",t.value="true",e.appendChild(t)}),o(),f.forEach(e=>{e.value=e.getAttribute("data-cm4cf7-default-value"),e.dispatchEvent(new CustomEvent("cm4cf7_submit_value_restored",{bubbles:!0}))});{const e=document.createElement("button");if(e.type="button",e.textContent=r.RETURN_BUTTON_TEXT,e.classList.add("cm4cf7-return-button"),e.addEventListener("click",l),f.length){f[0].parentNode.insertBefore(e,f[0]);const t={bubbles:!0};t.detail={newNode:e,referenceNode:f[0]},f[0].dispatchEvent(new CustomEvent("cm4cf7_return_button_inserted",t))}}{const c=n.querySelectorAll('.wpcf7-acceptance:not(.optional) [type="checkbox"]');c.forEach(e=>e.checked=!0)}n.dispatchEvent(new CustomEvent("cm4cf7_moved_to_confirm",{bubbles:!0}))}function l(){t(),a(),e(),c(),n.querySelectorAll(".wpcf7-response-output").forEach(e=>e.classList.remove("cm4cf7-show")),r.AUTO_SCROLL&&n.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),n.dispatchEvent(new CustomEvent("cm4cf7_returned_to_input",{bubbles:!0}))}function i(e){e.classList.remove("cm4cf7-show"),"CM4CF7_MAILSEND_ABORTED"===e.textContent.trim()?s():e.classList.add("cm4cf7-show")}}})});
